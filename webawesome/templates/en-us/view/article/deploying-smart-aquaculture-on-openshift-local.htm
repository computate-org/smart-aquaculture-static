{% extends "en-us/Article.htm" %}
{% block htmMetaPageLayout %}
    <meta name="result.pageId" content="{{ result.shortFileName }}" />
    <meta name="result.name" content="Deploying Smart Aquaculture on OpenShift Local" />
    <meta name="result.description" content="How to get started with OpenShift Local and deploying the Smart Aquaculture platform with GitOps. " />
    <meta name="result.authorName" content="Christopher Tate" />
    <meta name="result.authorUrl" content="{{ SITE_BASE_URL }}/en-us/learn/about/about-christopher-tate" />
    <meta name="result.created" content="2025-08-29T12:23:40.556[America/Denver]" />
    <meta name="result.pageImageUri" content="/png/smart-aquaculture-on-openshift-local.png" />
    <meta name="result.pageImageAlt" content="" />
{% endblock htmMetaPageLayout %}
{% block htmBodyMiddleArticle %}
{{ articleImage(result) }}

    <div class="wa-stack">

      <wa-card>
        <div class="wa-stack ">
          <div class="wa-heading-2xl ">
            <i class="fa-kit fa-openshift fa-2xl " style="color: red; "></i>
            Download OpenShift Local
          </div>
          <p>
            There are many ways to run applications like databases, message brokers, and search engines on your computer. 
            I like to run these applications for development on my computer the same way I would in the cloud. 
            Red Hat OpenShift Local makes it simple to run as many cloud-native applications as your computer has resources to support. 
            To get started with OpenShift Local: 
          </p>
          <div class="wa-stack wa-align-items-center ">
            <wa-button href="https://developers.redhat.com/products/openshift-local/overview" variant="brand">
              Download OpenShift Local
              <i slot="end" class="fa-kit fa-openshift fa-xl "></i>
            </wa-button>
          </div>
        </div>
      </wa-card>

      <wa-card class="wa-stack ">
        <div class="wa-stack ">
          <div class="wa-heading-2xl ">
            <i class="fa-kit fa-openshift fa-2xl " style="color: red; "></i>
            Install OpenShift Local
          </div>

          <p>
            It depends on your operating system how you will install OpenShift Local. 
            Here are some instructions for installing OpenShift Local if you have a computer running Microsoft Windows or Linux. 
            Select your operating system below. 
          </p>

          <wa-details icon-position="start">
            <i slot="expand-icon" class="fa-brands fa-windows"></i>
            <i slot="collapse-icon" class="fa-brands fa-windows"></i>
            <div class="wa-heading-xl " slot="summary">
              Microsoft Windows instructions for installing OpenShift Local
            </div>

          </wa-details>

          <wa-details icon-position="start">
            <i slot="expand-icon" class="fa-brands fa-linux"></i>
            <i slot="collapse-icon" class="fa-brands fa-linux"></i>
            <div class="wa-heading-xl " slot="summary">
              Linux instructions for installing OpenShift Local
            </div>

            <div class="wa-stack">

              <div class="wa-heading-l ">
                Create a <kbd>~/.local/bin/</kbd> directory
              </div>
              <pre><code>install -d ~/.local/bin/</code></pre>

              <div class="wa-heading-l ">
                Extract the <kbd>crc</kbd> command in your Terminal
              </div>
              <wa-scroller><pre><code>tar xvf  ~/Downloads/crc-linux-amd64.tar.xz \
  --strip-components=1 \
  -C ~/.local/bin/ \
  crc-linux-*-amd64/crc</code></pre></wa-scroller>

              <div class="wa-heading-l ">
                Configuring OpenShift Local resources
              </div>
              <p>
                To effectively configure OpenShift Local, you need to understand the amount of CPUs, memory, and storage on your computer. 
                Use the command below to display the amount of system resources in your Terminal. 
              </p>
              <wa-scroller><pre><code>echo "System memory: $(($(grep MemTotal /proc/meminfo | awk '{print $2}') / 1000))MiB"
echo "System CPUs: $(nproc)"</code></pre></wa-scroller>
              <ul>
                <li>
                  I recommend using the microshift preset if you have less than 64000MiB RAM, and less than 16 CPUs. 
                  The microshift preset does not deploy the graphical OpenShift Console, 
                  and several other services which reduces the amount of resources required to run your applications. 
                  But you will need to get comfortable with the Terminal CLI <kbd>oc</kbd> commands to use microshift. 
                </li>
                <li>
                  <dt>
                    For <kbd>cpus</kbd>:
                  </dt>
                  <dd>
                    I recommend subtracting your total number of CPUs by 1. 
                  </dd>
                </li>
                <li>
                  <dt>
                    For <kbd>memory</kbd>:
                  </dt>
                  <dd>
                    I recommend reserving your 90% of your total memory for OpenShift Local, but you can do more or less if you wish. I divide by <kbd>(110 / 10)))</kbd> to get 90% of your total memory, and I divide by <kbd>1000</kbd> to get the total memory in MB, which is normally shown in <kbd>kB</kbd>. 
                  </dd>
                </li>
                <li>
                  <dt>
                    For <kbd>disk-size</kbd>:
                  </dt>
                  <dd>
                    I recommend at least 400GiB, but if you don't actually have that much space, it's ok. The disk automatically grows dynamically over time, as data is persisted. 
                  </dd>
                </li>
                <li>
                  <dt>
                    For <kbd>persistent-volume-size</kbd>:
                  </dt>
                  <dd>
                    This you can set the same as <kbd>disk-size</kbd>. This is a configuration setting for the <kbd>microshift</kbd> preset if you are using it. 
                  </dd>
                </li>
              </ul>

              <p>
                Now configure the CPUs, memory, disk-size, and persistent-volume-size of OpenShift Local with the <kbd>crc</kbd> command. 
              </p>
              <wa-scroller><pre><code>crc config set preset microshift
crc config set cpus $(($(nproc) - 1))
crc config set memory $(($(grep MemTotal /proc/meminfo | awk '{print $2}') / 1000 / (110 / 10)))
crc config set disk-size 400
crc config set persistent-volume-size 400</code></pre></wa-scroller>
            </div>
          </wa-details>

          <wa-callout variant="brand">
            <i class="fa-duotone fa-regular fa-circle-info fa-xl"></i>
            <strong>MacOS operating system unsupported</strong><br />
            Unfortunately, MacOS is not supported with OpenShift Local since MacOS became ARM64 architecture. 
          </wa-callout>

          <div class="wa-heading-xl ">
            Review your OpenShift Local configuration below
          </div>
          <p>
            Make sure everything looks just right before starting OpenShift Local for the first time. 
          </p>
          <wa-scroller><pre><code>crc config view</code></pre></wa-scroller>

          <wa-callout variant="brand">
            <i class="fa-duotone fa-regular fa-circle-info fa-xl"></i>
            <strong><kbd>microshift</kbd> preset</strong><br />
            If you are using the microshift preset, you will likely need to delete and start again, because the disk-size and persistent-volume-size may not automatically resize. 
          </wa-callout>

          <div class="wa-heading-xl ">
            Set up OpenShift Local virtual machine
          </div>
          <p>
            The next step will set up local virtualization and networking infrastructure for using OpenShift Local. 
            Run this command in a Terminal. 
**You need to run this step in a separate VSCode terminal because it needs root access**. This one might take a long time.
          </p>
          <wa-callout variant="brand">
            <i class="fa-duotone fa-regular fa-circle-info fa-xl"></i>
            <strong>root access</strong><br />
            Configuring OpenShift Local requires root access to your system to configure it's virtual machine configuration and networking. 
          </wa-callout>
          <wa-scroller><pre><code>crc setup</code></pre></wa-scroller>

          <div class="wa-heading-xl ">
            Start OpenShift Local
          </div>
          <p>
            When everything is ready, start OpenShift Local. 
          </p>
          <wa-scroller><pre><code>crc start</code></pre></wa-scroller>
        </div>
      </wa-card>
    </div>
{% endblock %}
